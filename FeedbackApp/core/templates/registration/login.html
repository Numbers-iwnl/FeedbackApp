<!doctype html>
<html lang="pt-br" data-theme="dark">
<head>
    <meta charset="utf-8" />
    <title>Login</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Material Symbols (icons) -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,600,0,0" rel="stylesheet" />

    <style>
        :root {
            /* Dark (default) */
            --bg: #0b1220;
            --card: #101827;
            --text: #e6edf5;
            --muted: #8ea0b6;
            --line: #1f2a3b;
            --primary: #14b8a6;
            --ok: #16a34a;
            --warn: #f59e0b;
            --danger: #ef4444;
        }

        html[data-theme="light"] {
            --bg: #f6f7fb;
            --card: #ffffff;
            --text: #0f172a;
            --muted: #566074;
            --line: #d7dbe3;
            --primary: #0f766e;
            --ok: #15803d;
            --warn: #b45309;
            --danger: #b91c1c;
        }

        * {
            box-sizing: border-box
        }

        body {
            margin: 0 auto;
            max-width: 820px;
            padding: 18px;
            background: var(--bg);
            color: var(--text);
            font: 15px/1.45 system-ui,Segoe UI,Roboto,Arial,sans-serif;
        }

        /* Material Symbols helper */
        .ms {
            font-family: 'Material Symbols Rounded';
            font-weight: 600;
            font-style: normal;
            font-size: 20px; /* default */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            vertical-align: -2px; /* align with text nicely */
            letter-spacing: normal;
            text-transform: none;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }

        .ms-24 {
            font-size: 24px;
        }

        .ms-18 {
            font-size: 18px;
        }

        .top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-bottom: 14px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 800
        }

        .toggle {
            border: 1px solid var(--line);
            background: color-mix(in srgb,var(--card) 70%,var(--bg));
            color: color-mix(in srgb,var(--text) 90%,var(--muted));
            padding: 8px 10px;
            border-radius: 10px;
            cursor: pointer;
            display: inline-flex;
            gap: 8px;
            align-items: center;
        }

        .card {
            background: var(--card);
            border: 1px solid var(--line);
            border-radius: 16px;
            padding: 18px;
            box-shadow: 0 1px 0 color-mix(in srgb,var(--text) 4%,transparent), 0 10px 24px color-mix(in srgb,var(--text) 10%,transparent);
        }

        h1 {
            margin: 0 0 6px;
            display: flex;
            align-items: center;
            gap: 8px
        }

        .lead {
            margin: 0 0 14px;
            color: var(--muted)
        }

        label {
            display: block;
            margin: 10px 0 6px;
            font-weight: 700
        }

        .label-row {
            display: flex;
            align-items: center;
            gap: 8px
        }

        .field {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--bg);
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 10px 12px;
        }

            .field input {
                flex: 1;
                border: 0;
                outline: 0;
                background: transparent;
                color: var(--text);
                font: inherit;
                padding: 4px 0;
            }

        .row {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 14px
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border-radius: 12px;
            font-weight: 800;
            cursor: pointer;
            border: 0;
            padding: 10px 14px;
            text-decoration: none;
            color: #031322;
            background: var(--primary);
        }

        .hint {
            margin: 10px 2px 0;
            color: var(--muted);
            font-size: .92rem
        }

        .errors {
            border: 1px solid color-mix(in srgb,var(--danger) 50%,var(--line));
            background: color-mix(in srgb,var(--danger) 14%,var(--bg));
            color: var(--text);
            padding: 10px 12px;
            border-radius: 10px;
            margin-bottom: 12px;
        }
    </style>
</head>
<body>
    <div class="top">
        <div class="brand"><span class="ms ms-24" aria-hidden="true">school</span> <span>Feedbacks</span></div>
        <button id="themeToggle" class="toggle" type="button">
            <span id="themeIcon" class="ms" aria-hidden="true">light_mode</span>
            <span id="themeText">Modo claro</span>
        </button>
    </div>

    <div class="card">
        <h1><span class="ms ms-24" aria-hidden="true">lock</span> Acesso restrito</h1>
        <p class="lead">Entre com seu usuário e senha.</p>

        {% if form.errors %}
        <div class="errors"><span class="ms" aria-hidden="true">error</span> Usuário ou senha inválidos. Tente novamente.</div>
        {% endif %}

        <form method="post" action="">
            {% csrf_token %}

            <label for="id_username" class="label-row">
                <span class="ms" aria-hidden="true">person</span> <span>Usuário</span>
            </label>
            <div class="field">
                <input id="id_username" name="username" type="text" autocomplete="username"
                       autofocus required />
            </div>

            <label for="id_password" class="label-row">
                <span class="ms" aria-hidden="true">key</span> <span>Senha</span>
            </label>
            <div class="field">
                <input id="id_password" name="password" type="password" autocomplete="current-password"
                       required />
            </div>

            {% if next %}
            <input type="hidden" name="next" value="{{ next }}">
            {% endif %}

            <div class="row">
                <button class="btn" type="submit"><span class="ms" aria-hidden="true">login</span> Entrar</button>
            </div>

            <p class="hint"><span class="ms ms-18" aria-hidden="true">schedule</span> Sessões expiram em aproximadamente <strong>60 minutos</strong> de inatividade.</p>
        </form>
    </div>

    <script>
        (function () {
            const root = document.documentElement;
            const key = 'ui-theme';
            const btn = document.getElementById('themeToggle');
            const icon = document.getElementById('themeIcon');
            const txt = document.getElementById('themeText');

            const saved = localStorage.getItem(key);
            root.setAttribute('data-theme', saved || 'dark');

            function updateLabel() {
                const light = root.getAttribute('data-theme') === 'light';
                icon.textContent = light ? 'dark_mode' : 'light_mode';
                txt.textContent = light ? 'Modo escuro' : 'Modo claro';
            }
            updateLabel();

            btn.addEventListener('click', () => {
                const next = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
                root.setAttribute('data-theme', next);
                localStorage.setItem(key, next);
                updateLabel();
            });
        })();
    </script>
</body>
</html>
